<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>å°ç£å°åƒéƒ¨ï½œç·šä¸Šå­¸ç¿’å¹³å°</title>
  <meta name="description" content="å°ç£å°åƒéƒ¨ï¼šä¿å­˜èˆ‡å‚³æ‰¿å°åƒæ‰‹è—çš„ç·šä¸Šå­¸ç¿’å¹³å°ã€‚ç†±é–€èª²ç¨‹ã€æœ€æ–°è³‡è¨Šã€ç«‹å³é«”é©—ã€è¨»å†Šç™»å…¥ä¸€é å®Œæˆã€‚" />
  <style>
    :root{
      --bg:#0b1220;
      --card:#111a2d;
      --card2:#0f1730;
      --text:#eaf0ff;
      --muted:#a9b6d3;
      --line:rgba(255,255,255,.12);
      --brand:#7c5cff;
      --brand2:#2dd4bf;
      --shadow: 0 18px 50px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Noto Sans TC", "PingFang TC", "Microsoft JhengHei", sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 20% 5%, rgba(124,92,255,.25), transparent 65%),
        radial-gradient(800px 500px at 80% 10%, rgba(45,212,191,.18), transparent 60%),
        radial-gradient(700px 480px at 60% 80%, rgba(124,92,255,.12), transparent 70%),
        var(--bg);
      line-height:1.6;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:0 20px}
    .nav{
      position:sticky;top:0;z-index:50;
      backdrop-filter: blur(12px);
      background: rgba(11,18,32,.65);
      border-bottom:1px solid var(--line);
    }
    .nav-inner{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.5px;
    }
    .logo{
      width:34px;height:34px;border-radius:12px;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 10px 30px rgba(124,92,255,.25);
    }
    .nav-links{display:flex;gap:16px;align-items:center}
    .nav-links a{
      padding:8px 10px;border-radius:12px;color:var(--muted);
    }
    .nav-links a:hover{background:rgba(255,255,255,.06);color:var(--text)}
    .btn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 14px;border-radius:14px;
      cursor:pointer;
      transition:.18s transform,.18s background,.18s border;
    }
    .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.09);border-color:rgba(255,255,255,.22)}
    .btn.primary{
      border:none;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 16px 40px rgba(124,92,255,.22);
      color:#061022;
      font-weight:800;
    }
    .btn.primary:hover{filter:saturate(1.05)}
    .hero{padding:54px 0 18px}
    .hero-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:22px;align-items:stretch}
    .headline{
      font-size:42px;line-height:1.15;margin:0 0 12px;font-weight:900;
      letter-spacing:.2px;
    }
    .sub{
      margin:0 0 18px;color:var(--muted);font-size:16px;max-width:54ch;
    }
    .cta{display:flex;gap:12px;flex-wrap:wrap}
    .pill-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:18px}
    .pill{
      padding:8px 12px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
      font-size:13px;
    }

    .panel{
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel .pad{padding:18px}
    .kpi{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .kpi .box{
      background: rgba(17,26,45,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;padding:14px;
    }
    .kpi .n{font-size:20px;font-weight:900}
    .kpi .t{color:var(--muted);font-size:12px;margin-top:2px}
    .mini{
      margin-top:12px;
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      padding:12px 14px;border-radius:16px;
      background: rgba(17,26,45,.55);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);font-size:13px;
    }
    .dot{width:10px;height:10px;border-radius:999px;background:var(--brand2);box-shadow:0 0 0 6px rgba(45,212,191,.12)}
    section{padding:22px 0}
    .section-title{
      display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:12px
    }
    h2{margin:0;font-size:20px}
    .hint{color:var(--muted);font-size:13px}

    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    .card{
      background: rgba(17,26,45,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;padding:16px;
      transition:.18s transform,.18s border,.18s background;
      display:flex;flex-direction:column;gap:10px;
      min-height:160px;
    }
    .card:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.18);background:rgba(17,26,45,.68)}
    .tag-row{display:flex;gap:8px;flex-wrap:wrap}
    .tag{
      font-size:12px;color:var(--muted);
      padding:6px 10px;border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .card h3{margin:2px 0 0;font-size:16px}
    .meta{color:var(--muted);font-size:13px}
    .card .actions{margin-top:auto;display:flex;gap:10px;flex-wrap:wrap}
    .btn.small{padding:9px 12px;border-radius:12px;font-size:13px}

    .news{display:grid;grid-template-columns:1.1fr .9fr;gap:14px}
    .list{
      background: rgba(17,26,45,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      overflow:hidden;
    }
    .item{
      padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08);
      display:flex;gap:12px;align-items:flex-start
    }
    .item:last-child{border-bottom:none}
    .date{
      min-width:88px;
      color:var(--muted);font-size:12px;
      padding-top:2px
    }
    .item b{display:block;font-size:14px}
    .item p{margin:4px 0 0;color:var(--muted);font-size:13px}

    .demo{
      display:grid;grid-template-columns:1fr 1fr;gap:14px;align-items:stretch
    }
    .demo .box{
      background: rgba(17,26,45,.55);
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;padding:16px;
    }
    .input{
      width:100%;
      padding:12px 12px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      color:var(--text);
      outline:none;
    }
    .input::placeholder{color:rgba(234,240,255,.45)}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    footer{
      margin-top:26px;
      border-top:1px solid var(--line);
      padding:18px 0 26px;
      color:var(--muted);
      background: rgba(11,18,32,.45);
      backdrop-filter: blur(10px);
    }
    .foot{display:flex;gap:14px;justify-content:space-between;flex-wrap:wrap}
    .foot a{color:var(--text)}
    .muted{color:var(--muted)}
    .hide-sm{display:block}

    /* Modal */
    .modal-backdrop{
      position:fixed;inset:0;
      background: rgba(0,0,0,.55);
      display:none;align-items:center;justify-content:center;
      padding:18px;z-index:100;
    }
    .modal{
      width:min(520px,100%);
      border-radius:20px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(17,26,45,.92), rgba(15,23,48,.92));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-header{
      display:flex;align-items:center;justify-content:space-between;
      padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.10)
    }
    .modal-header b{font-size:14px}
    .tabs{display:flex;gap:8px;padding:12px 16px 0}
    .tab{
      padding:8px 10px;border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color:var(--muted);cursor:pointer;font-size:13px
    }
    .tab.active{
      color:#061022;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      border:none;font-weight:900;
    }
    .modal-body{padding:14px 16px 16px}
    .form{display:grid;gap:10px}
    .fine{font-size:12px;color:var(--muted);margin:0}

    @media (max-width: 920px){
      .hero-grid{grid-template-columns:1fr}
      .news{grid-template-columns:1fr}
      .demo{grid-template-columns:1fr}
      .grid3{grid-template-columns:1fr}
      .headline{font-size:34px}
      .hide-sm{display:none}
    }
  </style>
</head>
<body>
  <div class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#top" aria-label="å›åˆ°é¦–é ">
        <div class="logo" aria-hidden="true"></div>
        <div>å°ç£å°åƒéƒ¨<span class="muted">ï½œLearning</span></div>
      </a>
      <div class="nav-links">
        <a href="#courses">ç†±é–€èª²ç¨‹</a>
        <a href="#news">æœ€æ–°è³‡è¨Š</a>
        <a href="#demo">ç«‹å³é«”é©—</a>
        <button class="btn" id="btnLogin">ç™»å…¥</button>
        <button class="btn primary" id="btnSignup">å…è²»è¨»å†Š</button>
      </div>
    </div>
  </div>

  <main id="top" class="container">
    <div class="hero">
      <div class="hero-grid">
        <div>
          <h1 class="headline">æŠŠå°åƒæ‰‹è—åšæˆ<br/>äººäººéƒ½å­¸å¾—æœƒçš„èª²ç¨‹ã€‚</h1>
          <p class="sub">
            å°ç£å°åƒéƒ¨æ˜¯ä¸€å€‹ä¿å­˜èˆ‡å‚³æ‰¿æŠ€è—çš„å¹³å°ï¼šç†±é–€èª²ç¨‹ã€æœ€æ–°æ›´æ–°ã€è©¦ä¸Šé«”é©—ã€è¨»å†Šç™»å…¥ä¸€é å®Œæˆã€‚
          </p>
          <div class="cta">
            <a class="btn primary" href="#demo">ç«‹å³é«”é©—</a>
            <a class="btn" href="#courses">çœ‹çœ‹ç†±é–€èª²ç¨‹</a>
          </div>
          <div class="pill-row">
            <div class="pill">âœ… ä¸€é å¼ç€è¦½</div>
            <div class="pill">âœ… èª²ç¨‹å¡ç‰‡ï¼‹å…¬å‘Š</div>
            <div class="pill">âœ… è¨»å†Š/ç™»å…¥å½ˆçª—</div>
            <div class="pill">âœ… GitHub Pages å¯ç›´æ¥éƒ¨ç½²</div>
          </div>
        </div>

        <div class="panel">
          <div class="pad">
            <div class="kpi">
              <div class="box">
                <div class="n">12</div>
                <div class="t">æœ¬é€±æ–°å¢èª²ç¨‹å–®å…ƒ</div>
              </div>
              <div class="box">
                <div class="n">3</div>
                <div class="t">æœ€æ–°æ´»å‹•/å…¬å‘Š</div>
              </div>
            </div>
            <div class="mini">
              <div style="display:flex;gap:10px;align-items:center">
                <span class="dot" aria-hidden="true"></span>
                <span>ä»Šæ—¥æ¨è–¦ï¼šæ»·è‚‰é£¯åŸºç¤åˆ€å·¥èˆ‡æ²¹è„‚ç®¡ç†</span>
              </div>
              <a class="btn small" href="#courses">æŸ¥çœ‹</a>
            </div>
            <div class="mini">
              <span>ä½ ä¹Ÿå¯ä»¥å…ˆç”¨ã€Œé«”é©—æ¨¡å¼ã€å…ç™»å…¥è©¦ä¸Š 3 åˆ†é˜ã€‚</span>
              <a class="btn small" href="#demo">è©¦ä¸Š</a>
            </div>
            <p class="fine" style="margin-top:10px">
              â€» ç›®å‰ç‚ºå‰ç«¯ç¤ºç¯„ç‰ˆï¼šè¨»å†Š/ç™»å…¥å¯å…ˆæ¥ Firebase / Supabaseï¼Œæˆ–ä¹‹å¾Œä¸²è‡ªå»º APIã€‚
            </p>
          </div>
        </div>
      </div>
    </div>

    <section id="courses">
      <div class="section-title">
        <h2>ç†±é–€èª²ç¨‹</h2>
        <div class="hint">å¿«é€Ÿç€è¦½ â†’ é¸èª² â†’ åŒé è¨»å†Š/ç™»å…¥</div>
      </div>
      <div class="grid3" id="courseGrid"></div>
    </section>

    <section id="news">
      <div class="section-title">
        <h2>å¹³å°æœ€æ–°è³‡è¨Š</h2>
        <div class="hint">å…¬å‘Šã€æ›´æ–°ã€æ´»å‹•éƒ½æ”¾é€™è£¡</div>
      </div>
      <div class="news">
        <div class="list" id="newsList"></div>
        <div class="panel">
          <div class="pad">
            <h3 style="margin:0 0 6px">æœ€æ–°æ›´æ–°</h3>
            <p class="muted" style="margin:0 0 12px;font-size:13px">
              ä½ å¯ä»¥æŠŠé€™å¡Šæ”¹æˆï¼šä¸Šç·šé‡Œç¨‹ç¢‘ã€ç¤¾ç¾¤é€£çµã€æˆ–ç½®é ‚èª²ç¨‹/æŠ˜æ‰£ç¢¼ã€‚
            </p>
            <div class="row">
              <button class="btn small" id="btnOpenSignup2">ç«‹å³åŠ å…¥</button>
              <a class="btn small" href="#demo">å…ˆé«”é©—</a>
            </div>
            <div style="margin-top:14px" class="muted">
              <div>ğŸ“Œ ä¸‹ä¸€æ­¥ï¼šæ¥æœƒå“¡ç³»çµ±ã€èª²ç¨‹è©³é ã€è³¼è²·æµç¨‹</div>
              <div>ğŸ”’ è‹¥è¦ä»˜è²»ï¼šå»ºè­°ä½¿ç”¨ç¬¬ä¸‰æ–¹é‡‘æµæˆ–å¾Œç«¯é–‹ API</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="demo">
      <div class="section-title">
        <h2>ç«‹å³é«”é©—</h2>
        <div class="hint">åŒé å®Œæˆã€Œçœ‹ â†’ è©¦ â†’ è¨»å†Š/ç™»å…¥ã€</div>
      </div>
      <div class="demo">
        <div class="box">
          <h3 style="margin:0 0 6px">3 åˆ†é˜è©¦ä¸Šï¼šæ–™ç†ç¯€å¥è¨“ç·´</h3>
          <p class="muted" style="margin:0 0 12px;font-size:13px">
            é€™è£¡å…ˆç”¨äº’å‹•å°æ¸¬é©—ç¤ºç¯„ï¼ˆä¹‹å¾Œå¯æ›æˆå½±ç‰‡ã€éŸ³è¨Šã€æˆ–èª²ç¨‹æ’­æ”¾å™¨ï¼‰ã€‚
          </p>
          <label class="muted" style="font-size:13px">Qï¼šæ»·è£½æ™‚ã€Œå°ç«ã€çš„ä¸»è¦ç›®çš„ï¼Ÿ</label>
          <div style="margin-top:10px" class="row">
            <button class="btn small" data-ans="A">A. è®“è¡¨é¢ç„¦é¦™æ›´å¿«</button>
            <button class="btn small" data-ans="B">B. è®“å‘³é“æ…¢æ…¢æ»²å…¥</button>
            <button class="btn small" data-ans="C">C. é™ä½æˆæœ¬</button>
          </div>
          <p id="quizResult" class="fine" style="margin-top:12px"></p>
        </div>

        <div class="box">
          <h3 style="margin:0 0 6px">è©¦ç®—ï¼šæˆ‘çš„å­¸ç¿’ç›®æ¨™</h3>
          <p class="muted" style="margin:0 0 12px;font-size:13px">
            å¡«å¯«ç›®æ¨™ï¼Œç³»çµ±ç”Ÿæˆå»ºè­°ï¼ˆç¤ºç¯„ç”¨ï¼Œä¹‹å¾Œå¯æ¥æ¨è–¦å¼•æ“ï¼‰ã€‚
          </p>
          <div class="form">
            <input class="input" id="goal" placeholder="ä¾‹å¦‚ï¼šæƒ³å­¸æœƒé›æ’é†ƒæ–™ã€ç‚¸ç²‰æ¯”ä¾‹ã€æ²¹æº«æ§åˆ¶" />
            <button class="btn primary" id="btnSuggest">ç”Ÿæˆå»ºè­°</button>
            <div id="suggestOut" class="fine"></div>
            <div class="row" style="margin-top:6px">
              <button class="btn small" id="btnOpenLogin2">å·²æœ‰å¸³è™Ÿç™»å…¥</button>
              <button class="btn small" id="btnOpenSignup3">å…è²»è¨»å†Šé–‹å§‹</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer id="contact">
    <div class="container">
      <div class="foot">
        <div>
          <div style="font-weight:900;color:var(--text)">è¯ç¹«æˆ‘å€‘</div>
          <div class="muted">Emailï¼š<a href="mailto:hello@snacklab.tw">hello@snacklab.tw</a></div>
          <div class="muted">Instagramï¼š<a href="#" onclick="alert('ä¹‹å¾Œæ›æˆä½ çš„ IG é€£çµ');return false;">@snacklab.tw</a></div>
          <div class="muted hide-sm">åœ°å€ï¼šæ¡ƒåœ’ï¼å°åŒ—ï¼ˆå¯é¸ï¼‰</div>
        </div>
        <div class="muted">Â© <span id="year"></span> å°ç£å°åƒéƒ¨ï¼All rights reserved.</div>
      </div>
    </div>
  </footer>

  <!-- Modal -->
  <div class="modal-backdrop" id="backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal">
      <div class="modal-header">
        <b id="modalTitle">æœƒå“¡</b>
        <button class="btn small" id="btnClose">é—œé–‰</button>
      </div>
      <div class="tabs">
        <button class="tab active" id="tabSignup">è¨»å†Š</button>
        <button class="tab" id="tabLogin">ç™»å…¥</button>
      </div>
      <div class="modal-body">
        <form class="form" id="authForm">
          <input class="input" id="email" type="email" placeholder="Email" required />
          <input class="input" id="password" type="password" placeholder="å¯†ç¢¼ï¼ˆç¤ºç¯„ç”¨ï¼‰" minlength="6" required />
          <button class="btn primary" type="submit" id="authSubmit">å»ºç«‹å¸³è™Ÿ</button>
          <p class="fine" id="authFine">â€» ç¤ºç¯„ç‰ˆï¼šç›®å‰ä¸æœƒçœŸçš„å»ºç«‹å¸³è™Ÿï¼Œå¾ŒçºŒå¯ä¸² Firebase / Supabase / è‡ªå»º APIã€‚</p>
        </form>
      </div>
    </div>
  </div>

  <script>
  let courses = [];

  const news = [
    { date:"2026-01-27", title:"å¹³å°å‰ç«¯ç¤ºç¯„ç‰ˆä¸Šç·š", body:"é¦–é ä¸€é å¼å®Œæˆï¼šç†±é–€èª²ç¨‹ã€æœ€æ–°è³‡è¨Šã€é«”é©—ã€è¨»å†Š/ç™»å…¥ï¼ˆUIï¼‰ã€‚" },
    { date:"2026-01-25", title:"æ–°å¢ï¼šèª²ç¨‹å¡ç‰‡æ¨¡çµ„", body:"æ”¯æ´ tagã€æ™‚æ•¸ã€é›£åº¦èˆ‡ CTAï¼Œå¾ŒçºŒå¯æ¥èª²ç¨‹è©³é ã€‚" },
    { date:"2026-01-20", title:"è¦åŠƒï¼šæœƒå“¡ç³»çµ±ä¸²æ¥", body:"å»ºè­°å…ˆç”¨ Firebase / Supabase å¿«é€Ÿå®Œæˆè¨»å†Šç™»å…¥èˆ‡æ¬Šé™ã€‚" }
  ];

  const $ = (s)=>document.querySelector(s);

  function renderCourses(courseList){
    const grid = $("#courseGrid");
    grid.innerHTML = (courseList || []).map((c,i)=>`
      <div class="card">
        <div class="tag-row">${(c.tags || []).map(t=>`<span class="tag">${t}</span>`).join("")}</div>
        <h3>${c.title || "ï¼ˆæœªå‘½åèª²ç¨‹ï¼‰"}</h3>
        <div class="meta">${(c.minutes ?? 0)} åˆ†é˜ï½œ${c.level || ""}ï½œ${c.category || ""}</div>
        <div class="actions">
          <button class="btn small primary" onclick="openSignup()">${c.cta || "ç«‹å³é«”é©—"}</button>
          <button class="btn small" onclick="openCourseDetail('${c.id || i}')">äº†è§£æ›´å¤š</button>
        </div>
      </div>
    `).join("");
  }

  function renderNews(){
    const list = $("#newsList");
    list.innerHTML = news.map(n=>`
      <div class="item">
        <div class="date">${n.date}</div>
        <div>
          <b>${n.title}</b>
          <p>${n.body}</p>
        </div>
      </div>
    `).join("");
  }

  async function loadCourses(){
    const grid = $("#courseGrid");
    grid.innerHTML = `<div class="muted">è¼‰å…¥èª²ç¨‹ä¸­â€¦</div>`;

    try{
      // âœ… é€™ä¸€è¡Œå°±æ˜¯ä½ å•çš„ fetch å¯«æ³•
      const res = await fetch("./data/courses.json", { cache: "no-store" });
      if(!res.ok) throw new Error(`HTTP ${res.status}`);

      const data = await res.json();
      courses = Array.isArray(data) ? data : [];

      if(courses.length === 0){
        grid.innerHTML = `<div class="muted">ç›®å‰æ²’æœ‰å·²ç™¼å¸ƒèª²ç¨‹ï¼ˆcourses.json å¯èƒ½æ˜¯ç©ºçš„æˆ–éƒ½è¢«æ¨™è¨˜ç‚º draftï¼‰ã€‚</div>`;
        return;
      }

      renderCourses(courses);
    }catch(err){
      console.error("Failed to load courses.json:", err);
      grid.innerHTML = `
        <div class="muted">
          è®€å–èª²ç¨‹è³‡æ–™å¤±æ•—ã€‚<br/>
          1) è«‹ç¢ºèª repo å…§æœ‰ <b>data/courses.json</b><br/>
          2) ä¸” GitHub Pages å·²éƒ¨ç½²æˆåŠŸ<br/>
          3) è·¯å¾‘æ˜¯å¦æ­£ç¢ºï¼š<b>./data/courses.json</b>
        </div>
      `;
    }
  }

  function openCourseDetail(id){
    const c = (courses || []).find(x => x.id === id) || null;
    alert(c ? `${c.title}\n\n${c.summary || ""}` : `Course: ${id}`);
  }

  // Modal
  const backdrop = $("#backdrop");
  const tabSignup = $("#tabSignup");
  const tabLogin = $("#tabLogin");
  const authSubmit = $("#authSubmit");
  const modalTitle = $("#modalTitle");
  const authFine = $("#authFine");
  let mode = "signup";

  function setMode(m){
    mode = m;
    const isSignup = mode === "signup";
    tabSignup.classList.toggle("active", isSignup);
    tabLogin.classList.toggle("active", !isSignup);
    authSubmit.textContent = isSignup ? "å»ºç«‹å¸³è™Ÿ" : "ç™»å…¥";
    modalTitle.textContent = isSignup ? "å…è²»è¨»å†Š" : "æœƒå“¡ç™»å…¥";
    authFine.textContent = "â€» ç¤ºç¯„ç‰ˆï¼šç›®å‰ä¸æœƒçœŸçš„" + (isSignup ? "å»ºç«‹å¸³è™Ÿ" : "ç™»å…¥") + "ï¼Œå¾ŒçºŒå¯ä¸² Firebase / Supabase / è‡ªå»º APIã€‚";
  }

  function openModal(m){
    setMode(m);
    backdrop.style.display = "flex";
    backdrop.setAttribute("aria-hidden","false");
    $("#email").focus();
  }
  function closeModal(){
    backdrop.style.display = "none";
    backdrop.setAttribute("aria-hidden","true");
  }

  function openSignup(){ openModal("signup"); }
  function openLogin(){ openModal("login"); }

  function bindEvents(){
    // Nav / CTA buttons
    $("#btnSignup")?.addEventListener("click", openSignup);
    $("#btnLogin")?.addEventListener("click", openLogin);

    $("#btnOpenSignup2")?.addEventListener("click", openSignup); // âœ… ä½ åŸæœ¬æ¼äº†é€™å€‹
    $("#btnOpenSignup3")?.addEventListener("click", openSignup);
    $("#btnOpenLogin2")?.addEventListener("click", openLogin);

    $("#btnClose")?.addEventListener("click", closeModal);
    backdrop?.addEventListener("click", (e)=>{ if(e.target === backdrop) closeModal(); });

    tabSignup?.addEventListener("click", ()=>setMode("signup"));
    tabLogin?.addEventListener("click", ()=>setMode("login"));

    // Fake auth submit
    $("#authForm")?.addEventListener("submit", (e)=>{
      e.preventDefault();
      const email = $("#email").value.trim();
      alert((mode==="signup"?"å·²æ”¶åˆ°è¨»å†Šè³‡æ–™ï¼š":"å·²æ”¶åˆ°ç™»å…¥è³‡æ–™ï¼š") + email + "ï¼ˆç¤ºç¯„ï¼‰");
      closeModal();
    });

    // Quiz
    document.querySelectorAll("[data-ans]").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const ans = btn.getAttribute("data-ans");
        $("#quizResult").textContent = (ans==="B")
          ? "âœ… æ­£ç¢ºï¼å°ç«è®“æ™‚é–“å¹«ä½ æŠŠå‘³é“æ…¢æ…¢æ»²å…¥ï¼Œä¹Ÿæ›´ä¸æ˜“ç„¦è‹¦ã€‚"
          : "âŒ ä¸å¤ªå°å–”ï¼æç¤ºï¼šé‡é»åœ¨ã€æ…¢æ…¢æ»²å…¥ã€èˆ‡ã€ç©©å®šã€ã€‚";
      });
    });

    // Suggest
    $("#btnSuggest")?.addEventListener("click", ()=>{
      const g = $("#goal").value.trim();
      $("#suggestOut").textContent = g
        ? `å»ºè­°ä½ å¾ã€ŒåŸºç¤åˆ€å·¥ â†’ æ¯”ä¾‹èˆ‡ç§¤é‡ â†’ ç«å€™ç¯€å¥ã€ä¸‰æ®µç·´èµ·ã€‚ä½ çš„ç›®æ¨™ï¼š${g}`
        : "å…ˆå¯«ä¸‹ä½ çš„å­¸ç¿’ç›®æ¨™ï¼Œæˆ‘å†å¹«ä½ ç”Ÿæˆå»ºè­°ã€‚";
    });
  }

  // âœ… æœ€ç©©çš„åˆå§‹åŒ–æ–¹å¼ï¼šç­‰ DOM éƒ½ ready å†è·‘
  window.addEventListener("DOMContentLoaded", async ()=>{
    bindEvents();
    renderNews();
    $("#year").textContent = new Date().getFullYear();
    await loadCourses();
  });
</script>
</body>
</html>
